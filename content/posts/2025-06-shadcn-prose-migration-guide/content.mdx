## 🔄 遷移概覽

從 <code>@tailwindcss/typography</code> 遷移到 <code>shadcn-prose</code> 是一個重大的架構變更，影響整個部落格的排版系統。

### 核心變更
<br />
<TypographyVsShadcnProseTable />

## ✅ 優點分析

### 1. **更好的組件化**
- ✅ 符合 React 最佳實踐
- ✅ 可以傳入 props 進行動態配置
- ✅ 更好的 TypeScript 支援

### 2. **shadcn/ui 生態整合**
- ✅ 與現有 shadcn/ui 組件風格一致
- ✅ 統一的設計系統
- ✅ 更好的深色模式支援

### 3. **靈活性提升**
- ✅ 可以針對不同內容類型創建不同的 Prose 變體
- ✅ 更容易實現條件式樣式
- ✅ 支援動態主題切換

### 4. **維護性改善**
- ✅ 樣式邏輯集中在組件中
- ✅ 更容易追蹤樣式變更
- ✅ 減少 Tailwind 配置複雜度

## ⚠️ 缺點和挑戰

### 1. **學習曲線**
- ⚠️ 需要學習新的組件 API
- ⚠️ 從 CSS 類思維轉為組件思維
- ⚠️ 需要了解 shadcn/ui 設計原則

### 2. **遷移成本**
- ⚠️ 需要更新所有 MDX 渲染邏輯
- ⚠️ 需要重新測試所有排版效果
- ⚠️ 可能需要調整現有的自定義樣式

### 3. **bundle 大小**
- ⚠️ 增加 JavaScript bundle 大小（雖然很小）
- ⚠️ 運行時組件 vs 編譯時 CSS

### 4. **依賴管理**
- ⚠️ 增加對 shadcn/ui 生態的依賴
- ⚠️ 需要保持 shadcn 組件更新

## 📈 效能影響分析

### Build Time (編譯時間)
- **Typography**: 快速，純 CSS 生成
- **shadcn-prose**: 略慢，需編譯 React 組件

### Runtime (運行時間)
- **Typography**: 無 JavaScript 開銷
- **shadcn-prose**: 極小的 React 組件開銷

### Bundle Size (包大小)
- **Typography**: 僅 CSS，約 10-15KB
- **shadcn-prose**: CSS + React 組件，約 20-25KB

## 🎯 適用場景建議

### ✅ 建議遷移的情況
- 🔥 已大量使用 shadcn/ui 組件
- 🔥 需要高度自定義的排版系統
- 🔥 計劃實現多種文章佈局
- 🔥 重視 TypeScript 類型安全

### ❌ 不建議遷移的情況
- 🚫 項目處於穩定維護期，不需要新功能
- 🚫 團隊對 React 組件不熟悉
- 🚫 對 bundle 大小有嚴格限制
- 🚫 現有 typography 配置已完全滿足需求

## 🔮 未來考量

### shadcn-prose 優勢
- 🚀 跟隨 shadcn/ui 生態更新
- 🚀 更好的可訪問性支援
- 🚀 社群驅動的改進

### 潛在風險
- ⚠️ 依賴第三方庫的更新節奏
- ⚠️ 需要跟隨 React 生態變化
- ⚠️ 可能的 breaking changes

## 📋 決策矩陣

<ProseComparisonScoreTable />

## 🎯 最終建議

基於你的項目狀況分析：

### ✅ **建議進行遷移**

**理由：**
1. **你已有完整的 shadcn/ui 設置** - 遷移成本較低
2. **你重視繁體中文排版優化** - shadcn-prose 提供更好的自定義能力
3. **項目處於積極開發期** - 適合引入新技術
4. **你有 TypeScript 和 React 經驗** - 學習成本可控

### 📅 **建議的遷移時機**
- ✅ 在一個相對空閒的開發周期
- ✅ 有充足時間進行測試
- ✅ 可以逐步遷移（先遷移新文章）

### 🛡️ **風險緩解措施**
1. **完整備份** - 所有配置文件都要備份
2. **分階段實施** - 先在分支測試，確認無問題再合併
3. **準備回滾方案** - 使用提供的回滾腳本
4. **充分測試** - 使用測試清單逐項驗證

---

## 🚀 開始遷移？

如果決定進行遷移，建議按照以下順序執行：

### 實際遷移步驟 (以 shadcn-prose 為例)

筆者已成功採用 <code>shadcn-prose</code> 官方推薦的標準安裝方法完成遷移，過程相當直接。以下是主要步驟與相關資源：

**主要資源：**
- **官方 GitHub：** [haydenbleasel/shadcn-prose](https://github.com/haydenbleasel/shadcn-prose)
- **官方文件與展示：** [shadcn-prose.vercel.app](https://shadcn-prose.vercel.app/)

**安裝指令：**
```bash
npm i shadcn-prose
```
如果您使用 <code>yarn</code> 或 <code>pnpm</code>，請使用對應的指令：
```bash
yarn add shadcn-prose
# pnpm add shadcn-prose
```

**CSS 設定：**
在您的 <code>globals.css</code> (或其他主要的 CSS 檔案) 中引入 <code>shadcn-prose</code>：
```css
@import `shadcn-prose`;
```

完成這些步驟後，<code>shadcn-prose</code> 的樣式將會套用至您的 MDX 內容。接下來，您可以繼續進行後續的測試與驗證。

1. **️先執行自動化腳本** (依賴安裝和移除)
2. **逐一更新配置文件** (使用提供的代碼模板)
3. **創建和配置 Prose 組件**
4. **更新 MDXRenderer**
5. **全面測試和驗證**

遷移過程中如有問題，隨時可以使用回滾腳本恢復到原始狀態。
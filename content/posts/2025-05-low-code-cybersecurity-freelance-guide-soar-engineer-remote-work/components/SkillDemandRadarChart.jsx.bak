import React from 'react';
import {
  Chart as ChartJS,
  RadialLinearScale,
  PointElement,
  LineElement,
  Filler,
  Tooltip,
  Legend,
} from 'chart.js';
import { Radar } from 'react-chartjs-2';

ChartJS.register(
  RadialLinearScale,
  PointElement,
  LineElement,
  Filler,
  Tooltip,
  Legend
);

const SkillDemandRadarChart = () => {
  const options = {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
      legend: {
        position: 'top',
        labels: {
          usePointStyle: true,
          padding: 20,
          font: {
            size: 12,
            family: 'Inter, sans-serif'
          }
        }
      },
      title: {
        display: true,
        text: 'LC/NCè³‡å®‰é ˜åŸŸæŠ€èƒ½éœ€æ±‚ç†±åº¦åˆ†æ',
        font: {
          size: 16,
          weight: 'bold',
          family: 'Inter, sans-serif'
        },
        padding: 20
      },
      tooltip: {
        backgroundColor: 'rgba(0, 0, 0, 0.8)',
        titleColor: '#fff',
        bodyColor: '#fff',
        borderColor: '#F59E0B',
        borderWidth: 1,
        callbacks: {
          label: function(context) {
            const labels = {
              'SOARå¹³å°æ“ä½œ': 'SOARå¹³å° (Cortex XSOAR, Splunk SOAR)',
              'Pythonè…³æœ¬ç·¨ç¨‹': 'Pythonè‡ªå‹•åŒ–è…³æœ¬é–‹ç™¼',
              'APIé›†æˆç¶“é©—': 'ç¬¬ä¸‰æ–¹ç³»çµ±APIé›†æˆèƒ½åŠ›',
              'è³‡å®‰æ¡†æ¶çŸ¥è­˜': 'MITRE ATT&CK, NISTç­‰æ¡†æ¶',
              'é›²å¹³å°å®‰å…¨': 'AWS, Azure, GCPå®‰å…¨æœå‹™',
              'LC/NCå·¥å…·ç†Ÿç·´': 'Zapier, Airtable, Power Appsç­‰',
              'åˆè¦æ¨™æº–ç†è§£': 'GDPR, ISO27001, SOC2ç­‰',
              'äº‹ä»¶éŸ¿æ‡‰ç¶“é©—': 'SOCé‹ç‡Ÿå’Œäº‹ä»¶è™•ç†ç¶“é©—',
              'å®¢æˆ¶æºé€šèƒ½åŠ›': 'è·¨æ–‡åŒ–æºé€šå’Œé …ç›®ç®¡ç†',
              'æ¥­å‹™æµç¨‹åˆ†æ': 'ä¼æ¥­æµç¨‹ç†è§£å’Œå„ªåŒ–èƒ½åŠ›'
            };
            return `${labels[context.label] || context.label}: ${context.parsed.r}/10`;
          }
        }
      }
    },
    scales: {
      r: {
        beginAtZero: true,
        min: 0,
        max: 10,
        ticks: {
          stepSize: 2,
          callback: function(value) {
            return value + '/10';
          },
          font: {
            size: 10
          }
        },
        pointLabels: {
          font: {
            size: 11,
            family: 'Inter, sans-serif'
          },
          callback: function(label) {
            // ç¸®çŸ­æ¨™ç±¤ä»¥é©æ‡‰é¡¯ç¤º
            const shortLabels = {
              'SOARå¹³å°æ“ä½œ': 'SOARå¹³å°',
              'Pythonè…³æœ¬ç·¨ç¨‹': 'Pythonç·¨ç¨‹',
              'APIé›†æˆç¶“é©—': 'APIé›†æˆ',
              'è³‡å®‰æ¡†æ¶çŸ¥è­˜': 'è³‡å®‰æ¡†æ¶',
              'é›²å¹³å°å®‰å…¨': 'é›²å¹³å°å®‰å…¨',
              'LC/NCå·¥å…·ç†Ÿç·´': 'LC/NCå·¥å…·',
              'åˆè¦æ¨™æº–ç†è§£': 'åˆè¦æ¨™æº–',
              'äº‹ä»¶éŸ¿æ‡‰ç¶“é©—': 'äº‹ä»¶éŸ¿æ‡‰',
              'å®¢æˆ¶æºé€šèƒ½åŠ›': 'å®¢æˆ¶æºé€š',
              'æ¥­å‹™æµç¨‹åˆ†æ': 'æµç¨‹åˆ†æ'
            };
            return shortLabels[label] || label;
          }
        },
        grid: {
          color: 'rgba(0, 0, 0, 0.1)'
        },
        angleLines: {
          color: 'rgba(0, 0, 0, 0.1)'
        }
      }
    },
    interaction: {
      intersect: false
    }
  };

  const data = {
    labels: [
      'SOARå¹³å°æ“ä½œ',
      'Pythonè…³æœ¬ç·¨ç¨‹', 
      'APIé›†æˆç¶“é©—',
      'è³‡å®‰æ¡†æ¶çŸ¥è­˜',
      'é›²å¹³å°å®‰å…¨',
      'LC/NCå·¥å…·ç†Ÿç·´',
      'åˆè¦æ¨™æº–ç†è§£',
      'äº‹ä»¶éŸ¿æ‡‰ç¶“é©—',
      'å®¢æˆ¶æºé€šèƒ½åŠ›',
      'æ¥­å‹™æµç¨‹åˆ†æ'
    ],
    datasets: [
      {
        label: '2025å¹´å¸‚å ´éœ€æ±‚åº¦',
        data: [9.5, 8.2, 8.8, 8.5, 9.0, 8.0, 7.8, 8.7, 7.5, 7.2],
        borderColor: '#EF4444',
        backgroundColor: 'rgba(239, 68, 68, 0.15)',
        borderWidth: 2,
        pointBackgroundColor: '#EF4444',
        pointBorderColor: '#fff',
        pointBorderWidth: 2,
        pointRadius: 4
      },
      {
        label: 'è–ªè³‡åŠ æˆå½±éŸ¿',
        data: [9.2, 7.8, 8.0, 8.2, 8.8, 6.5, 8.5, 9.0, 6.8, 7.0],
        borderColor: '#3B82F6',
        backgroundColor: 'rgba(59, 130, 246, 0.15)',
        borderWidth: 2,
        pointBackgroundColor: '#3B82F6',
        pointBorderColor: '#fff',
        pointBorderWidth: 2,
        pointRadius: 4
      },
      {
        label: 'å­¸ç¿’é›£åº¦ (å€’ç½®)',
        data: [6.5, 4.2, 5.8, 6.0, 5.5, 7.5, 7.0, 5.2, 8.5, 7.8],
        borderColor: '#10B981',
        backgroundColor: 'rgba(16, 185, 129, 0.15)',
        borderWidth: 2,
        pointBackgroundColor: '#10B981',
        pointBorderColor: '#fff',
        pointBorderWidth: 2,
        pointRadius: 4
      }
    ]
  };

  const skillInsights = [
    {
      skill: 'SOARå¹³å°æ“ä½œ',
      priority: 'ğŸ”¥ æ¥µé«˜',
      note: 'æœ€é«˜è–ªæŠ€èƒ½ï¼Œå¸‚å ´ä¾›ä¸æ‡‰æ±‚',
      color: 'text-red-600'
    },
    {
      skill: 'é›²å¹³å°å®‰å…¨',
      priority: 'ğŸ”¥ æ¥µé«˜', 
      note: 'ä¼æ¥­é›²è½‰å‹å¿…éœ€ï¼Œå¢é•·æœ€å¿«',
      color: 'text-red-600'
    },
    {
      skill: 'APIé›†æˆç¶“é©—',
      priority: 'ğŸš€ é«˜',
      note: 'è·¨å¹³å°æ•´åˆæ ¸å¿ƒèƒ½åŠ›',
      color: 'text-orange-600'
    },
    {
      skill: 'äº‹ä»¶éŸ¿æ‡‰ç¶“é©—',
      priority: 'ğŸš€ é«˜',
      note: 'SOCèƒŒæ™¯å„ªå‹¢ï¼Œè–ªè³‡åŠ æˆæ˜é¡¯',
      color: 'text-orange-600'
    },
    {
      skill: 'Pythonè…³æœ¬ç·¨ç¨‹',
      priority: 'â­ ä¸­é«˜',
      note: 'è‡ªå‹•åŒ–åŸºç¤ï¼Œç›¸å°æ˜“å­¸',
      color: 'text-blue-600'
    },
    {
      skill: 'å®¢æˆ¶æºé€šèƒ½åŠ›',
      priority: 'ğŸ’¡ é‡è¦',
      note: 'è‡ªç”±è·æ¥­æˆåŠŸé—œéµè»ŸæŠ€èƒ½',
      color: 'text-green-600'
    }
  ];

  return (
    <div className="w-full bg-white p-6 rounded-lg shadow-lg border border-gray-200 my-8">
      <div className="h-96 mb-6">
        <Radar options={options} data={data} />
      </div>
      
      <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6">
        <div>
          <h4 className="font-semibold text-gray-800 mb-4">ğŸ¯ æŠ€èƒ½å„ªå…ˆç´šå»ºè­°</h4>
          <div className="space-y-3">
            {skillInsights.map((item, index) => (
              <div key={index} className="bg-gray-50 p-3 rounded-lg">
                <div className="flex justify-between items-center mb-1">
                  <span className="font-medium text-sm">{item.skill}</span>
                  <span className={`text-xs font-medium ${item.color}`}>
                    {item.priority}
                  </span>
                </div>
                <p className="text-xs text-gray-600">{item.note}</p>
              </div>
            ))}
          </div>
        </div>
        
        <div className="space-y-4">
          <div className="bg-gradient-to-r from-red-50 to-orange-50 p-4 rounded-lg">
            <h4 className="font-semibold text-gray-800 mb-3">ğŸ”¥ å„ªå…ˆç™¼å±•æŠ€èƒ½</h4>
            <div className="text-sm text-gray-700 space-y-2">
              <div>1ï¸âƒ£ <strong>SOARå¹³å°</strong> - ç›´æ¥æ±ºå®šæ”¶å…¥ä¸Šé™</div>
              <div>2ï¸âƒ£ <strong>é›²å¹³å°å®‰å…¨</strong> - æœªä¾†3å¹´æœ€å¤§å¢é•·é»</div>
              <div>3ï¸âƒ£ <strong>APIé›†æˆ</strong> - æŠ€è¡“åŸºç¤èƒ½åŠ›</div>
              <div>4ï¸âƒ£ <strong>Pythonç·¨ç¨‹</strong> - è‡ªå‹•åŒ–å¿…å‚™å·¥å…·</div>
            </div>
          </div>
          
          <div className="bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg">
            <h4 className="font-semibold text-gray-800 mb-3">ğŸ“ˆ å­¸ç¿’è·¯å¾‘å»ºè­°</h4>
            <div className="text-sm text-gray-700 space-y-2">
              <div><strong>æ–°æ‰‹ (0-6å€‹æœˆ)</strong>ï¼šLC/NCå·¥å…· + PythonåŸºç¤</div>
              <div><strong>é€²éš (6-18å€‹æœˆ)</strong>ï¼šSOARå¹³å° + APIé›†æˆ</div>
              <div><strong>å°ˆå®¶ (18å€‹æœˆ+)</strong>ï¼šé›²å®‰å…¨ + è¤‡åˆè§£æ±ºæ–¹æ¡ˆ</div>
            </div>
          </div>
          
          <div className="bg-gradient-to-r from-green-50 to-teal-50 p-4 rounded-lg">
            <h4 className="font-semibold text-gray-800 mb-3">ğŸ’° æŠ€èƒ½æŠ•è³‡å›å ±ç‡</h4>
            <div className="text-sm text-gray-700 space-y-1">
              <div>â€¢ SOARèªè­‰æŠ•è³‡ï¼š$2,000 â†’ å¹´è–ªå¢åŠ $50,000+</div>
              <div>â€¢ é›²å¹³å°èªè­‰ï¼š$1,500 â†’ æ™‚è–ªå¢åŠ $30-50</div>
              <div>â€¢ Pythonèª²ç¨‹ï¼š$500 â†’ é …ç›®æ•ˆç‡æå‡200%</div>
            </div>
          </div>
        </div>
      </div>

      <div className="mt-4 text-sm text-gray-600 text-center">
        <p>æ•¸æ“šä¾†æº: LinkedIn Skill Assessment + Upwork Job Postings + Salary Survey 2025</p>
        <p className="mt-1 text-amber-600 font-medium">
          âš¡ çµ„åˆæŠ€èƒ½ç­–ç•¥ï¼šæŒæ¡3-4å€‹é«˜éœ€æ±‚æŠ€èƒ½å¯å¯¦ç¾è–ªè³‡è¤‡åˆå¢é•·
        </p>
      </div>
    </div>
  );
};

export default SkillDemandRadarChart;